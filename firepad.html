<!DOCTYPE html>
<html>

<head>
	<link rel="stylesheet" type="text/css" href="firepad.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

	<title>CollabOnCode</title>
	<!-- Firebase -->
	<script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>

	<!-- CodeMirror -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.10.0/codemirror.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.10.0/codemirror.css" />

	<!-- Firepad -->
	<link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.3.0/firepad.css" />
	<script src="https://cdn.firebase.com/libs/firepad/1.3.0/firepad.min.js"></script>
</head>

<body>

	<div id="firepad"></div>
	<script>
		var getUrlParameter = function getUrlParameter(sParam) {
    		var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        	sURLVariables = sPageURL.split('&'),
        	sParameterName,
        	i;

    		for (i = 0; i < sURLVariables.length; i++) {
        		sParameterName = sURLVariables[i].split('=');

       			if (sParameterName[0] === sParam) {
            		return sParameterName[1] === undefined ? true : sParameterName[1];
        		}
    		}
		};
		var pad = getUrlParameter('pad');
		var firepadRef = new Firebase('https://collaboncode.firebaseio.com/' + pad);
		var codeMirror = CodeMirror(document.getElementById('firepad'), { lineWrapping: true });
		var firepad = Firepad.fromCodeMirror(firepadRef, codeMirror,
		{ richTextShortcuts: true, richTextToolbar: true, defaultText: 'Hello, World!' });
	</script>

</body>
</html>